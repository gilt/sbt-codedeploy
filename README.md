# SBT plugin for [AWS Code Deploy](http://aws.amazon.com/codedeploy/)

[![Build Status](https://travis-ci.org/gilt/sbt-codedeploy.png?branch=master)](https://travis-ci.org/gilt/sbt-codedeploy)

To add to your project:

    resolvers += Resolver.sonatypeRepo("snapshot")

    addSbtPlugin("com.gilt" % "sbt-codedeploy" % "0.1-SNAPSHOT")

See [sbt-native-packager-example](sbt-native-packager-example/README.md) for an example of how to
use with sbt-native-packager.

# Conventions

sbt-codedeploy makes use of defaults to make configuring your application easy these conventions and allowing you to override them if needed.

## Scripts

### AppSpec File location

It's assumed that the appspec will be generated by the plugin unless a location is specified.

Default: None

Override: codeDeployAppSpecLocation

### Content

Content will be included from the current project and the build's classpath.

Defaults:

current project - "{baseDirectory}/src/codedeploy/content"
classpath - "sbt/codedeploy/content"

Override:

current project - codeDeployContentDirectory
classpath - codeDeployContentClasspath

### Scripts

Scripts will be included from the current project and the build's classpath.

Defaults:

current project - "{baseDirectory}/src/codedeploy/scripts"
classpath - "sbt/codedeploy/scripts"

Override:

current project - codeDeployScriptsDirectory
classpath - codeDeployScriptsClasspath

### AWS Profile

The AWS profile that will be used to when making AWS API calls.

Default: "default"

Override: codeDeployAwsProfile

### Deployment IgnoreApplicationStopFailures

This is a setting used during deployments. It's documented in AWS's CodeDeploy docs here: (http://docs.aws.amazon.com/codedeploy/latest/APIReference/API_DeploymentInfo.html#-Type-DeploymentInfo-IgnoreApplicationStopFailures)

Default: false

Override: codeDeployIgnoreApplicationStopFailures


# Troubleshooting

## My artifacts that are should be included through the classpath are not being found.

Check that your dependecies which include your artifacts are on your build's classpath, not your projects. They need to be visible to the plugin and are not related to the runtime dependencies.